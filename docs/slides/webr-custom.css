/* 2 kolonner + 2 rækker:
   venstre: editor (spænder over begge rækker)
   højre: tekst-output (øverst) + plot-output (nederst)
*/
.webr-side-by-side {
  display: grid !important;
  grid-template-columns: 45% 55%;
  grid-template-rows: auto auto;
  grid-template-areas:
    "editor outcode"
    "editor outplot";
  gap: 1rem !important;
  align-items: start;
}

/* Placer de tre søskende korrekt i grid'et */
.webr-side-by-side > [id^="qwebr-insertion-location-"] {
  grid-area: editor !important;
  min-width: 0 !important;
}

.webr-side-by-side > [id^="qwebr-output-code-area-"] {
  grid-area: outcode !important;
  min-width: 0 !important;
}

.webr-side-by-side > [id^="qwebr-output-graph-area-"] {
  grid-area: outplot !important;
  min-width: 0 !important;
}

/* Vigtigt: nogle reveal/Quarto styles kan tvinge width:100% på børn.
   Det er OK i grid, men vi sikrer os at de kan krympe. */
.webr-side-by-side > * {
  min-width: 0 !important;
}

/* Gør plot-området pænt og undgå at det kollapser */
.webr-side-by-side > [id^="qwebr-output-graph-area-"] {
  overflow: auto;
}

/* Mobil: stack hvis skærmen er smal */
@media (max-width: 900px) {
  .webr-side-by-side {
    grid-template-columns: 100%;
    grid-template-areas:
      "editor"
      "outcode"
      "outplot";
  }
}
